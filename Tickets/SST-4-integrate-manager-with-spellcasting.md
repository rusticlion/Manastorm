# Ticket #SST-4: Integrate Manager with Spell Casting & Update Loop

## Description
Connect the Wizard:castSpell function to the SustainedSpellManager so that sustained spells are registered, and ensure the manager updates each frame.

## Tasks

### Modify Casting Logic (wizard.lua -> Wizard:castSpell)
- Inside the `if shouldSustain then ... end` block (from SST-1):
  - Call `game.sustainedSpellManager.addSustainedSpell(self, spellSlot, effect)`. Ensure the effect table passed contains all data populated by keywords (isSustained, trapTrigger, trapWindow, trapEffect, shieldParams, etc.). Pass slot.spell as well if needed by the manager

### Call Manager Update (main.lua -> love.update)
- Add a call to `game.sustainedSpellManager.update(dt)` after the wizards and mana pool have been updated

## Acceptance Criteria
- When a sustained spell finishes casting, SustainedSpellManager.addSustainedSpell is called with the correct wizard, slot index, and spell data
- The SustainedSpellManager.update function executes each frame
- The manager's log shows sustained spells being added

## Pitfalls
Double-check that all necessary data (trigger, window, effect details) generated by keywords in executeAll's effect table is correctly passed to addSustainedSpell.